{% extends "base.html" %}
{% block title %}Create Account Â· StrokeCare{% endblock %}

{% block content %}
<div class="auth-page-shell">

  <main class="auth-main">
    <div class="auth-orbit-layer"></div>

    <div class="auth-card-floating">

      <!-- Top badge -->
      <div class="auth-card-icon">
        <div class="icon-pill">
          <span class="icon-symbol">âœ¦</span>
        </div>
      </div>

      <div class="auth-card-inner">
        <h1 class="auth-heading">Create your account</h1>
        <p class="auth-tagline">Join StrokeCare and manage your stroke predictions.</p>

        <!-- ðŸš¨ REMOVE novalidate so browser validations work -->
        <form method="post" action="{{ url_for('auth.register') }}">
          {{ form.hidden_tag() }}

          <!-- Email -->
          <div class="mb-3">
            <label class="form-label" for="{{ form.email.id }}">Email</label>
            <div class="sc-input-group sc-input-group--text">
              {{ form.email(class="form-control", placeholder="you@hospital.nhs.uk") }}
            </div>

            {% if form.email.errors %}
              <div class="text-danger small mt-1">
                {{ form.email.errors[0] }}
              </div>
            {% endif %}
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label class="form-label" for="{{ form.password.id }}">Password</label>
            <div class="sc-input-group sc-input-group--text">
              {{ form.password(class="form-control", placeholder="Create a strong password") }}
            </div>

            {% if form.password.errors %}
              <div class="text-danger small mt-1">
                {{ form.password.errors[0] }}
              </div>
            {% endif %}
          </div>

          <!-- Confirm Password -->
          <div class="mb-3">
            <label class="form-label" for="{{ form.confirm_password.id }}">Confirm Password</label>
            <div class="sc-input-group sc-input-group--text">
              {{ form.confirm_password(class="form-control", placeholder="Re-enter your password") }}
            </div>

            {% if form.confirm_password.errors %}
              <div class="text-danger small mt-1">
                {{ form.confirm_password.errors[0] }}
              </div>
            {% endif %}
          </div>

          <!-- Role -->
          <div class="mb-3">
            <label class="form-label" for="{{ form.role.id }}">Role</label>
            <div class="sc-input-group sc-input-group--text">
              {{ form.role(class="form-control") }}
            </div>

            {% if form.role.errors %}
              <div class="text-danger small mt-1">
                {{ form.role.errors[0] }}
              </div>
            {% endif %}
          </div>

          <!-- Submit -->
          <div class="d-grid mt-4">
            <button type="submit" class="btn sc-btn-gradient">
              Create Account
            </button>
          </div>

          <p class="auth-meta mt-3">
            Already have an account?
            <a class="auth-link" href="{{ url_for('auth.login') }}">Sign in</a>
          </p>

        </form>
      </div>
    </div>
  </main>
</div>
{% endblock %}
