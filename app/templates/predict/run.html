{% extends "base.html" %}
{% block title %}Check your stroke risk Â· StrokeCare{% endblock %}

{% block content %}
<div class="sc-page sc-page--predict">
  <div class="container py-4 sc-shell">

    <div class="d-flex justify-content-between align-items-center mb-3">
      <div>
        <h1 class="sc-page-title mb-1">Check your stroke risk</h1>
        <p class="sc-page-subtitle mb-0">
          Enter your current health details to run a stroke risk check.
        </p>
      </div>
      <div class="text-end d-none d-md-block">
        <small class="text-muted d-block">Doctor dashboard</small>
        <a href="{{ url_for('doctor.doctor_dashboard') }}" class="small sc-link">
          Back to dashboard
        </a>
      </div>
    </div>

    <div class="sc-card sc-card-lg">
      <form method="post" action="{{ url_for('predict.predict') }}">
        <!-- CSRF token is hidden; there is NO bare {{ csrf_token() }} anywhere -->
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>

        <h2 class="h6 mb-3 text-muted">Health details</h2>

        <div class="row g-3">
          <div class="col-md-4">
            <label class="form-label">Gender</label>
            <select class="form-select" name="gender">
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div class="col-md-4">
            <label class="form-label">Age</label>
            <input type="number" step="1" min="0" class="form-control"
                   name="age" placeholder="e.g. 55">
          </div>

          <div class="col-md-4">
            <label class="form-label">Hypertension</label>
            <select class="form-select" name="hypertension">
              <option value="0">No</option>
              <option value="1">Yes</option>
            </select>
          </div>

          <div class="col-md-4">
            <label class="form-label">Heart disease</label>
            <select class="form-select" name="heart_disease">
              <option value="0">No</option>
              <option value="1">Yes</option>
            </select>
          </div>

          <div class="col-md-4">
            <label class="form-label">Ever married</label>
            <select class="form-select" name="ever_married">
              <option value="No">No</option>
              <option value="Yes">Yes</option>
            </select>
          </div>

          <div class="col-md-4">
            <label class="form-label">Work type</label>
            <select class="form-select" name="work_type">
              <option value="Private">Private</option>
              <option value="Self-employed">Self-employed</option>
              <option value="Govt_job">Government job</option>
              <option value="children">Children</option>
              <option value="Never_worked">Never worked</option>
            </select>
          </div>

          <div class="col-md-4">
            <label class="form-label">Residence type</label>
            <select class="form-select" name="Residence_type">
              <option value="Urban">Urban</option>
              <option value="Rural">Rural</option>
            </select>
          </div>

          <div class="col-md-4">
            <label class="form-label">Average glucose level</label>
            <input type="number" step="0.1" class="form-control"
                   name="avg_glucose_level" placeholder="e.g. 110.0">
          </div>

          <div class="col-md-4">
            <label class="form-label">BMI</label>
            <input type="number" step="0.1" class="form-control"
                   name="bmi" placeholder="e.g. 26.0">
          </div>

          <div class="col-md-4">
            <label class="form-label">Smoking status</label>
            <select class="form-select" name="smoking_status">
              <option value="never smoked">Never smoked</option>
              <option value="formerly smoked">Formerly smoked</option>
              <option value="smokes">Smokes</option>
              <option value="Unknown">Unknown</option>
            </select>
          </div>
        </div>

        <div class="mt-4">
          <button type="submit" class="btn sc-btn-primary w-100 py-3">
            Run stroke risk check
          </button>
        </div>

        <p class="text-muted small mt-3 mb-0">
          This tool is for educational purposes only and does not replace professional medical advice.
        </p>
      </form>
    </div>

  </div>
</div>
{% endblock %}
